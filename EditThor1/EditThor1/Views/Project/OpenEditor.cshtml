@model EditThor1.Models.ViewModels.ListFileViewModel
@using EditThor1.Controllers;
@{
    ViewBag.Title = "OpenEditor";
}




<div><a id="save-btn" class="btn btn-success">Save</a></div>

@using (Html.BeginForm("Save", "Project", FormMethod.Post))
{
    @Html.HiddenFor(m => m.Content, new { @id = "hidden_editor" })
    < input type="submit" value="Save code" />
}

<div class="row">
    <div class="col-md-3" id="filecolumn">
        <div>
            <ul id="filelist">
                @foreach (var item in Model.AllFiles)
                {
                    <li class="active">@Html.ActionLink(item.name , "DisplayFile", new { id = item.ID})</li>
                    @Request["id"];
                    //@Html.ActionLink("Edit Category 10", "Edit", "Categorys", new { area = "Admin", id = 10 }, null)

                }
            </ul>
        </div>
    </div>
    <div id="editor" class="col-md-9">
      
    </div>
</div>

<script src="@Url.Content("~/Scripts/ace-builds-master/ace-builds-master/src-noconflict/ace.js")"></script>
<script src="http//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src='jquery/jquery.js' type="text/javascript"></script>
<script src='jquery/jquery-ui.custom.js' type="text/javascript"></script>

<script>
    var editor = ace.edit("editor");
    editor.setTheme("ace/theme/monokai");
    editor.getSession().setMode("ace/mode/javascript");
    editor.getSession().setMode("ace/mode/html");


    $(document).ready(function () {
        $("#editor").val(editor.setValue("we are snugging"));
    });

    $("form").submit(function() {
        $("#hidden_editor").val(editor.getSession().getValue());
    });




        function findFooLineNumbers(editor) {
            var lines = editor.session.doc.getAllLines()
            console.log("buttons yay");
            console.log(lines);
            return lines;
        }

        var returner = document.getElementById("save-btn").onclick = function () { findFooLineNumbers(editor) };
</script>